<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Six parameters define the conversion rules, values passed to these parameters
are in the form of tidyselect column specifications. Any columns passed
will be converted according to the conversion rules associated with that
parameter."><title>Convert labelled variables to desired types — lbl_to • forlabs</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert labelled variables to desired types — lbl_to"><meta property="og:description" content="Six parameters define the conversion rules, values passed to these parameters
are in the form of tidyselect column specifications. Any columns passed
will be converted according to the conversion rules associated with that
parameter."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">forlabs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/torfason/forlabs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Convert labelled variables to desired types</h1>
      <small class="dont-index">Source: <a href="https://github.com/torfason/forlabs/blob/HEAD/R/to.R" class="external-link"><code>R/to.R</code></a></small>
      <div class="d-none name"><code>lbl_to.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Six parameters define the conversion rules, values passed to these parameters
are in the form of <code>tidyselect</code> column specifications. Any columns passed
will be converted according to the conversion rules associated with that
parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lbl_to</span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  <span class="va">.zapped</span>,</span>
<span>  <span class="va">.numeric</span>,</span>
<span>  <span class="va">.logical</span>,</span>
<span>  <span class="va">.char_values</span>,</span>
<span>  <span class="va">.char_labels</span>,</span>
<span>  <span class="va">.factor</span>,</span>
<span>  <span class="va">.ordered</span>,</span>
<span>  .unfilled <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"error"</span>, <span class="st">"fill"</span>, <span class="st">"na"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>d</dt>
<dd><p>A <code>data.frame</code> with some <code>labelled</code> variables.</p></dd>


<dt>...</dt>
<dd><p>Reserved for future use.</p></dd>


<dt>.zapped</dt>
<dd><p>Any columns specified in this parameter are converted by
<code>zapping</code> the value labels, using <code><a href="https://haven.tidyverse.org/reference/zap_labels.html" class="external-link">haven::zap_labels()</a></code>, converting to the
underlying data type of the underlying value vector, either <code>integer</code>,
<code>double</code>, or <code>character</code>. No type checking is performed, as the underlying
type is returned unchanged.</p></dd>


<dt>.numeric</dt>
<dd><p>Columns specified here are converted to <code>numeric</code>, with an
error if the underlying type is not <code>numeric</code> (i.e. <code>integer</code> or <code>double</code>).</p></dd>


<dt>.logical</dt>
<dd><p>Specifies conversion to <code>logical</code>, with an error if the
conversion is not possible (underlying values must be <code>numeric</code> and all
values must be <code>0</code>, <code>1</code>, or <code>NA</code>).</p></dd>


<dt>.char_values</dt>
<dd><p>Specifies conversion to a <code>character</code> vector containing
the <em>values</em> of the input variable, with an error if the underlying type
is not <code>character</code>.</p></dd>


<dt>.char_labels</dt>
<dd><p>Specifies conversion to a <code>character</code> vector containing
the <em>labels</em> of the input variable, with an error if the underlying type
is not <code>character</code> (this is done by first converting to a factor using
<code><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">haven::as_factor()</a></code>, then to character using <code><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character()</a></code>).</p></dd>


<dt>.factor</dt>
<dd><p>Specifies conversion to <code>factor</code> (using <code><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">haven::as_factor()</a></code>
for the conversion).</p></dd>


<dt>.ordered</dt>
<dd><p>Specifies conversion to <code>factor</code> (using <code><a href="https://forcats.tidyverse.org/reference/as_factor.html" class="external-link">haven::as_factor()</a></code>
for the conversion).</p></dd>


<dt>.unfilled</dt>
<dd><p>A switch specifying the behavior if the input is not
"filled" (see <code><a href="lbl_fill.html">lbl_fill()</a></code>). Currently only the "error" setting is
implemented, and thus any unfilled labels must be filled before converting.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The absence of a <code>.character</code> parameter, is intentional, in order to
eliminate ambiguity character conversion is handled by two parameters,
<code>.char_values</code> and <code>.char_labels</code>.</p>
<p>Matching the same column in two parameters is an error, since the result
would be ambiguous.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">veggies</span>, <span class="va">fruit_lbl</span>, <span class="va">fruit_lbl_int</span>, <span class="va">fruit_lbl_chr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">lbl_to</span><span class="op">(</span><span class="va">d</span>, .char_labels <span class="op">=</span> <span class="va">veggies</span>, .zapped <span class="op">=</span> <span class="fu">starts_with</span><span class="op">(</span><span class="st">"fruit"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 50 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    veggies  fruit_lbl fruit_lbl_int fruit_lbl_chr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Tomato           3             3 c            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Broccoli         5             5 e            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Carrot           4             4 d            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Cucumber         3             3 c            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Potato           1             1 a            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Tomato           2             2 b            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Cucumber         1             1 a            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Tomato           4             4 d            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Carrot           1             1 a            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Broccoli         1             1 a            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 40 more rows</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Magnus Thor Torfason.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

