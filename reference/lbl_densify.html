<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The lbl_densify function takes a labelled vector and assigns new,
densely-ranked integer values to each unique value in the vector. The order
of the unique values is preserved. This function keeps the labels correctly
associated with their respective values throughout the densifying process.
The sub-type (typeof(x)) of the labelled is preserved for double and
integer, but character variables (&amp;lt;labelled&amp;lt;character&amp;gt;&amp;gt;) are not
supported as densification is not applicable for character strings."><title>Densify a labelled vector — lbl_densify • forlabs</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Densify a labelled vector — lbl_densify"><meta property="og:description" content="The lbl_densify function takes a labelled vector and assigns new,
densely-ranked integer values to each unique value in the vector. The order
of the unique values is preserved. This function keeps the labels correctly
associated with their respective values throughout the densifying process.
The sub-type (typeof(x)) of the labelled is preserved for double and
integer, but character variables (&amp;lt;labelled&amp;lt;character&amp;gt;&amp;gt;) are not
supported as densification is not applicable for character strings."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">forlabs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/torfason/forlabs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Densify a labelled vector</h1>
      <small class="dont-index">Source: <a href="https://github.com/torfason/forlabs/blob/HEAD/R/densify.R" class="external-link"><code>R/densify.R</code></a></small>
      <div class="d-none name"><code>lbl_densify.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>lbl_densify</code> function takes a labelled vector and assigns new,
densely-ranked integer values to each unique value in the vector. The order
of the unique values is preserved. This function keeps the labels correctly
associated with their respective values throughout the densifying process.</p>
<p>The sub-type (<code>typeof(x)</code>) of the labelled is preserved for <code>double</code> and
<code>integer</code>, but <code>character</code> variables (<code>&lt;labelled&lt;character&gt;&gt;</code>) are not
supported as densification is not applicable for character strings.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lbl_densify</span><span class="op">(</span><span class="va">x</span>, unlabelled <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"error"</span>, <span class="st">"fill"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A labelled vector to be densified.</p></dd>


<dt>unlabelled</dt>
<dd><p>This parameter determines the handling of unlabelled values
in the input vector. It can take two values:</p><ul><li><p>"error": Throw an error if there are unlabelled values in the vector.</p></li>
<li><p>"fill": Fill in labels for any unlabelled values using <code><a href="lbl_fill.html">lbl_fill()</a></code>
before densifying.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A labelled vector of the same length as the original vector, <code>x</code>, but
with values replaced with their dense ranks. The labels are correctly
associated with their respective values and the variable label (if present)
is preserved.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="co"># Densify the veggies vector</span></span></span>
<span class="r-in"><span>  <span class="fu">lbl_densify</span><span class="op">(</span><span class="va">veggies</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;labelled&lt;double&gt;[50]&gt;: The regular veggies are indexed by the prime numbers 2-11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 3 5 1 4 2 3 4 3 1 5 2 1 4 2 3 4 2 1 1 1 5 5 1 1 2 1 5 3 4 2 5 1 5 1 1 4 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [39] 2 1 2 5 4 1 2 1 3 1 4 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Labels:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  value    label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1   Carrot</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2   Potato</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3   Tomato</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      4 Cucumber</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      5 Broccoli</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Densify exotic_veggies, filling in for unlabelled values</span></span></span>
<span class="r-in"><span>  <span class="fu">lbl_densify</span><span class="op">(</span><span class="va">exotic_veggies</span>, unlabelled <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;labelled&lt;double&gt;[50]&gt;: The exotic veggies are indexed by the prime numbers 2-41. No observations exist for indexes 7 and 41, but 8 unlabelled observations exist (for indexes 2, 8, 16 and 32), and 1 observations is NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1 11  3  1 11 11  4  8  4  2  3  2 15  7  1  2  3  7  2  7  7  4  4  6  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  1  1 13 11  9  6 10  9  7  9  7  7  5  8  6  1  8  1 14  3  4 16 12  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Labels:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  value     label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1   Bokchoy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2  Celeriac</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3       &lt;4&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      4   Chayote</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      5  Eggplant</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      6       &lt;8&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      7    Endive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      8    Fennel</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      9      &lt;16&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     10    Jicama</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     11  Kohlrabi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     12      Okra</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     13 Radicchio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     14  Rutabaga</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     15      &lt;32&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     16      Taro</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     17  Zucchini</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Magnus Thor Torfason.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

